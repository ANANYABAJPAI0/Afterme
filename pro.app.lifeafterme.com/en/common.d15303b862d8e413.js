"use strict";(self.webpackChunklafm_user_panel=self.webpackChunklafm_user_panel||[]).push([[592],{36315:(y,C,c)=>{c.d(C,{l:()=>p});var e=c(82963),v=c(14775),u=c(71392),m=c(35462),d=c(80197),h=c(72567),o=c(36895),s=c(4859);function r(a,f){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const _=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(_.moveResponse())}),e.\u0275\u0275text(1," Move "),e.\u0275\u0275elementEnd()}}function t(a,f){if(1&a){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5)(1,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const _=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.deleteResponse(_.response))}),e.\u0275\u0275text(2," Remove "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const _=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.editResponse(_.response))}),e.\u0275\u0275text(4," Edit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,r,2,0,"button",8),e.\u0275\u0275elementEnd()}if(2&a){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.showMove)}}const n=function(a,f){return{"box-shadow":a,cursor:f}};let p=(()=>{class a{constructor(i,l,_,g,E){this._formsService=i,this._formDataService=l,this._errorService=_,this._uploadService=g,this._authService=E,this.showMove=!1,this.isEditable=!0,this.responseDeleted=new e.EventEmitter,this.editResponseEvent=new e.EventEmitter,this.moveResponseEvent=new e.EventEmitter,this.cardClicked=new e.EventEmitter}deleteResponse(i){this._formsService.deleteResponse(i.id).then(l=>{this.responseDeleted.emit(),this.updateProgress(i)}).catch(l=>{this._errorService.handleCommonError(l)})}updateProgress(i){this._uploadService.updateCompletedProgress("",i.mainCategory,i.subCategory).then(l=>{this._authService.updateUserDicovery(i.mainCategory,l[i.mainCategory])}).catch(l=>{this._errorService.handleCommonError(l)})}editResponse(i){this.editResponseEvent.emit(),this._formDataService.editResponse(i)}moveResponse(){this.moveResponseEvent.emit()}onClick(){this.cardClicked.emit()}}return a.\u0275fac=function(i){return new(i||a)(e.\u0275\u0275directiveInject(v.s),e.\u0275\u0275directiveInject(u.W),e.\u0275\u0275directiveInject(m.T),e.\u0275\u0275directiveInject(d.C),e.\u0275\u0275directiveInject(h.e))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-response-card"]],inputs:{response:"response",showMove:"showMove",isEditable:"isEditable"},outputs:{responseDeleted:"responseDeleted",editResponseEvent:"editResponseEvent",moveResponseEvent:"moveResponseEvent",cardClicked:"cardClicked"},decls:7,vars:7,consts:[[1,"documents-card",3,"ngStyle","click"],[1,"w-100"],[1,"documents-card__title"],[1,"documents-card__description"],["class","d-flex f-col just-space",4,"ngIf"],[1,"d-flex","f-col","just-space"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",2,"margin-top","7px",3,"click"],["style","margin-top: 7px","mat-raised-button","","color","primary",3,"click",4,"ngIf"]],template:function(i,l){1&i&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("click",function(){return l.onClick()}),e.\u0275\u0275elementStart(1,"div",1)(2,"p",2),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",3),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,t,6,1,"div",4),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(4,n,l.isEditable?"0 4px 4px rgba(0, 0, 0, 0.25)":"1px 1px 3px 3px rgba(0, 0, 0, 0.25)",l.isEditable?"auto":"pointer")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",l.response.responseName," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",l.response.responseDescription," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.isEditable))},dependencies:[o.NgIf,o.NgStyle,s.lW],styles:[".documents-card[_ngcontent-%COMP%]{max-height:210px;padding:20px;justify-content:space-between}.documents-card__description[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.documents-card__title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;text-align:center;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}"]}),a})()},71450:(y,C,c)=>{c.d(C,{l:()=>v});var e=c(82963);let v=(()=>{class u{constructor(){this.currentYear=(new Date).getFullYear()}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=e.\u0275\u0275defineComponent({type:u,selectors:[["app-copyright"]],decls:2,vars:1,consts:function(){let m;return m=" Copyright \xA9 " + "\ufffd0\ufffd" + " Life After Me B.V., All Rights Reserved.\n",[[1,"copyright"],m]},template:function(d,h){1&d&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275i18n(1,1),e.\u0275\u0275elementEnd()),2&d&&(e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(h.currentYear),e.\u0275\u0275i18nApply(1))},styles:[".copyright[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center}"]}),u})()},59592:(y,C,c)=>{c.d(C,{y:()=>m});var e=c(17601),v=c(82963),u=c(83293);let m=(()=>{class d{constructor(o){this.apollo=o}getAnalytics(){return new Promise((o,s)=>{this.apollo.query({query:e.x.analytics,errorPolicy:"all"}).subscribe(r=>{const t=r;t.errors&&t.errors.length?s(t.errors):t.data&&o(t.data.analytics.getAllAnalytics)},r=>{s(r)})})}confirmUserDeath(o,s,r){return new Promise((t,n)=>{this.apollo.mutate({mutation:e.x.confirmUserDeath,variables:{markedUserId:o,buddyId:s,response:r},errorPolicy:"all"}).subscribe(p=>{const a=p;a.errors&&a.errors.length?n(a.errors):a.data&&t(a.data.users.confirmUserDeath)},p=>{n(p)})})}getAllMArkedUsers(){return new Promise((o,s)=>{this.apollo.query({query:e.x.markedUsers,errorPolicy:"all"}).subscribe(r=>{const t=r;t.errors&&t.errors.length?s(t.errors):t.data&&o(t.data.analytics.getAllMarkedUsers)},r=>{s(r)})})}getFolderTractionData(o){return new Promise((s,r)=>{this.apollo.query({query:e.x.folderTractionData,variables:{userCategory:o},errorPolicy:"all"}).subscribe(t=>{const n=t;n.errors&&n.errors.length?r(n.errors):n.data&&s(n.data.analytics.getFolderTractionData)},t=>{r(t)})})}getAccountCompletionData(o){return new Promise((s,r)=>{this.apollo.query({query:e.x.accountCompletionData,variables:{userCategory:o},errorPolicy:"all"}).subscribe(t=>{const n=t;n.errors&&n.errors.length?r(n.errors):n.data&&s(n.data.analytics.getAccountCompletionData)},t=>{r(t)})})}getBuddyAppointedData(o){return new Promise((s,r)=>{this.apollo.query({query:e.x.getBuddyAppointedData,variables:{userCategory:o},errorPolicy:"all"}).subscribe(t=>{const n=t;n.errors&&n.errors.length?r(n.errors):n.data&&s(n.data.analytics.getBuddyAppointedData)},t=>{r(t)})})}downloadPdfReport(){return new Promise((o,s)=>{this.apollo.query({query:e.x.downloadPdfReport}).subscribe(r=>{const t=r;t.errors&&t.errors.length?s(t.errors):t.data&&o(t.data.analytics.downloadPdfReport)},r=>{s(r)})})}downloadDeathCertificate(o,s){return new Promise((r,t)=>{this.apollo.query({query:e.x.downloadDeathCertificate,variables:{markedUserId:o,buddyId:s}}).subscribe(n=>{const p=n;p.errors&&p.errors.length?t(p.errors):p.data&&r(p.data.analytics.downloadDeathCertificate)},n=>{t(n)})})}getAffiliateUsers(){return new Promise((o,s)=>{this.apollo.query({query:e.x.getAffiliateUsers,errorPolicy:"all"}).subscribe(r=>{const t=r;t.errors&&t.errors.length?s(t.errors):t.data&&o(t.data.analytics.getAffiliateUsers)},r=>{s(r)})})}}return d.\u0275fac=function(o){return new(o||d)(v.\u0275\u0275inject(u._M))},d.\u0275prov=v.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d})()}}]);