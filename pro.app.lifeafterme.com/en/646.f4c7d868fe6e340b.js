"use strict";(self.webpackChunklafm_user_panel=self.webpackChunklafm_user_panel||[]).push([[646],{14646:(Be,L,m)=>{m.d(L,{V:()=>we});var h=m(49671),e=m(99509),M=m(48191),C=m(17445),_=m(18312),t=m(82963),ee=m(3128),te=m(71392),P=m(80197),ne=m(35462),oe=m(65412),$=m(72567),w=m(14775),x=m(36895),B=m(59549),ie=m(44144),re=m(97392),ae=m(4859),le=m(84385),b=m(3238),y=m(51572),se=m(56709),D=m(24006),U=m(98868),G=m(1251);const _e=["delayModal"],ce=["deleteModal"],de=["viewResponseModal"];function pe(p,S){1&p&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275element(1,"app-loader"),t.\u0275\u0275elementEnd())}function O(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"th",17),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&p){const o=S.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.assigneeInfo.firstName+" "+o.assigneeInfo.lastName," ")}}function me(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",23)(1,"div",24)(2,"div",25)(3,"label"),t.\u0275\u0275i18n(4,26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-checkbox",27,28),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(6),f=t.\u0275\u0275nextContext().$implicit,E=t.\u0275\u0275nextContext(2);return E.setActiveCheckbox(d),t.\u0275\u0275resetView(E.setAllSubcategories(f,c.assigneeInfo._id,-1))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",25)(8,"label"),t.\u0275\u0275i18n(9,29),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-checkbox",27,30),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(11),f=t.\u0275\u0275nextContext().$implicit,E=t.\u0275\u0275nextContext(2);return E.setActiveCheckbox(d),t.\u0275\u0275resetView(E.setAllSubcategories(f,c.assigneeInfo._id,0))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",25)(13,"label"),t.\u0275\u0275i18n(14,31),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-checkbox",27,32),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(16),f=t.\u0275\u0275nextContext().$implicit,E=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView("adviser"===E.tableType?E.setAllSubcategories(f,c.assigneeInfo._id,1):E.openDelayModal(1,f,c.assigneeInfo._id,null,d))}),t.\u0275\u0275elementEnd()()()()}if(2&p){const o=S.$implicit,i=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel1),t.\u0275\u0275i18nApply(4),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",r.allCompleteSubcategory(i,o.assigneeInfo._id,-1))("disabled",r.allCompleteSubcategory(i,o.assigneeInfo._id,-1)||!i.subcategories.length)("indeterminate",r.someSubcategoriesComplete(i,o.assigneeInfo._id,-1)&&!r.allCompleteSubcategory(i,o.assigneeInfo._id,-1)),t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel2),t.\u0275\u0275i18nApply(9),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",r.allCompleteSubcategory(i,o.assigneeInfo._id,0))("disabled",r.allCompleteSubcategory(i,o.assigneeInfo._id,0)||!i.subcategories.length)("indeterminate",r.someSubcategoriesComplete(i,o.assigneeInfo._id,0)&&!r.allCompleteSubcategory(i,o.assigneeInfo._id,0)),t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel3),t.\u0275\u0275i18nApply(14),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",r.allCompleteSubcategory(i,o.assigneeInfo._id,1))("disabled",r.allCompleteSubcategory(i,o.assigneeInfo._id,1)||!i.subcategories.length)("indeterminate",r.someSubcategoriesComplete(i,o.assigneeInfo._id,1)&&!r.allCompleteSubcategory(i,o.assigneeInfo._id,1))}}function fe(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",37)(1,"div",24)(2,"div",25)(3,"label"),t.\u0275\u0275i18n(4,38),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-checkbox",27,28),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(6),f=t.\u0275\u0275nextContext().$implicit,E=t.\u0275\u0275nextContext(4);return E.setActiveCheckbox(d),t.\u0275\u0275resetView(E.setAllResponses(f,c.assigneeInfo._id,-1))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",39)(8,"label"),t.\u0275\u0275i18n(9,40),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-checkbox",27,30),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(11),f=t.\u0275\u0275nextContext().$implicit,E=t.\u0275\u0275nextContext(4);return E.setActiveCheckbox(d),t.\u0275\u0275resetView(E.setAllResponses(f,c.assigneeInfo._id,0))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",25)(13,"label"),t.\u0275\u0275i18n(14,41),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-checkbox",27,32),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(16),f=t.\u0275\u0275nextContext().$implicit,E=t.\u0275\u0275nextContext(2).$implicit,I=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView("adviser"===I.tableType?I.setAllResponses(f,c.assigneeInfo._id,1):I.openDelayModal(2,f,c.assigneeInfo._id,E,d))}),t.\u0275\u0275elementEnd()()()()}if(2&p){const o=S.$implicit,i=t.\u0275\u0275nextContext().$implicit,r=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel1),t.\u0275\u0275i18nApply(4),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",r.allCompleteResponses(i,o.assigneeInfo._id,-1))("disabled",r.allCompleteResponses(i,o.assigneeInfo._id,-1))("indeterminate",r.someResponsesComplete(i,o.assigneeInfo._id,-1)&&!r.allCompleteResponses(i,o.assigneeInfo._id,-1)),t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel2),t.\u0275\u0275i18nApply(9),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",r.allCompleteResponses(i,o.assigneeInfo._id,0))("disabled",r.allCompleteResponses(i,o.assigneeInfo._id,0))("indeterminate",r.someResponsesComplete(i,o.assigneeInfo._id,0)&&!r.allCompleteResponses(i,o.assigneeInfo._id,0)),t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel3),t.\u0275\u0275i18nApply(14),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",r.allCompleteResponses(i,o.assigneeInfo._id,1))("disabled",r.allCompleteResponses(i,o.assigneeInfo._id,1))("indeterminate",r.someResponsesComplete(i,o.assigneeInfo._id,1)&&!r.allCompleteResponses(i,o.assigneeInfo._id,1))}}function ge(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"img",48),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext(2).$implicit,c=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(c.openDeletePopup(r.id))}),t.\u0275\u0275elementEnd()}}function ue(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",37)(1,"div",24)(2,"div",25)(3,"label"),t.\u0275\u0275i18n(4,49),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-checkbox",50),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275nextContext(2).$implicit,f=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(f.setResponse(d,c.assigneeInfo._id,-1))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",25)(7,"label"),t.\u0275\u0275i18n(8,51),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-checkbox",50),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275nextContext(2).$implicit,f=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(f.setResponse(d,c.assigneeInfo._id,0))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",25)(11,"label"),t.\u0275\u0275i18n(12,52),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"mat-checkbox",50,53),t.\u0275\u0275listener("change",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275reference(14),f=t.\u0275\u0275nextContext(2).$implicit,E=t.\u0275\u0275nextContext().$implicit,I=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView("adviser"===I.tableType?I.setResponse(f,c.assigneeInfo._id,1):I.openDelayModal(3,f,c.assigneeInfo._id,E,d))}),t.\u0275\u0275elementEnd()()()()}if(2&p){const o=S.$implicit,i=t.\u0275\u0275nextContext(2).$implicit,r=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(4),t.\u0275\u0275i18nExp(r.delayOptionLabel1),t.\u0275\u0275i18nApply(4),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",-1==i.completed.get(o.assigneeInfo._id))("disabled",-1==i.completed.get(o.assigneeInfo._id)||0!==i.accessLevel),t.\u0275\u0275advance(3),t.\u0275\u0275i18nExp(r.delayOptionLabel2),t.\u0275\u0275i18nApply(8),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",0==i.completed.get(o.assigneeInfo._id))("disabled",0==i.completed.get(o.assigneeInfo._id)||0!==i.accessLevel),t.\u0275\u0275advance(3),t.\u0275\u0275i18nExp(r.delayOptionLabel3),t.\u0275\u0275i18nApply(12),t.\u0275\u0275advance(1),t.\u0275\u0275property("checked",i.completed.get(o.assigneeInfo._id)>0)("disabled",i.completed.get(o.assigneeInfo._id)>0||0!==i.accessLevel)}}const Ee=function(p,S,o){return{cursor:p,color:S,pointerEvents:o}},Se=function(p){return{filter:p}};function ve(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",43)(1,"td",44)(2,"div",45),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext().$implicit,c=t.\u0275\u0275nextContext(5),d=t.\u0275\u0275reference(8);return t.\u0275\u0275resetView(c.showFormResponse(d,r))}),t.\u0275\u0275element(3,"img",46),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,ge,1,0,"img",47),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,ue,15,9,"td",35),t.\u0275\u0275elementEnd()}if(2&p){const o=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction3(5,Ee,o.accessLevel<0?"default":"pointer",o.accessLevel<0?"grey":"black",o.accessLevel<0?"none":"auto")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(9,Se,o.accessLevel<0?"grayscale(100%)":"none")),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.responseName," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==o.accessLevel),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.assignees)}}function Ce(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,ve,7,11,"tr",42),t.\u0275\u0275elementEnd()),2&p){const o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.expanded)}}function Te(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",54)(1,"button",55),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext().$implicit,c=t.\u0275\u0275nextContext(2).$implicit,d=t.\u0275\u0275nextContext(2),f=t.\u0275\u0275reference(8);return t.\u0275\u0275resetView(d.addResponse(c.category,r.value,f))}),t.\u0275\u0275text(2," Add "),t.\u0275\u0275elementStart(3,"mat-icon",56),t.\u0275\u0275text(4,"add"),t.\u0275\u0275elementEnd()()()}}function he(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"tr",33)(2,"td",34)(3,"button",19),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(d.toggleExpanded(c))}),t.\u0275\u0275elementStart(4,"mat-icon",20),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,fe,17,12,"td",35),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Ce,2,1,"div",16),t.\u0275\u0275template(9,Te,5,0,"div",36),t.\u0275\u0275elementEnd()}if(2&p){const o=S.$implicit,i=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(o.expanded?"remove":"add"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.name," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.assignees),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o.formResponses),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.expanded)}}function Me(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,he,10,5,"div",16),t.\u0275\u0275elementEnd()),2&p){const o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o.subcategories)}}function Ie(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"tr",18)(2,"td",12)(3,"button",19),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.toggleExpanded(c))}),t.\u0275\u0275elementStart(4,"mat-icon",20),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,me,17,12,"td",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Me,2,1,"div",22),t.\u0275\u0275elementEnd()}if(2&p){const o=S.$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(o.expanded?"remove":"add"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",o.categoryName," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.assignees),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.expanded)}}function Ne(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div",9)(1,"table",10)(2,"div",11)(3,"th",12),t.\u0275\u0275i18n(4,13),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,O,2,1,"th",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"div",15),t.\u0275\u0275template(7,Ie,9,4,"div",16),t.\u0275\u0275elementEnd()()),2&p){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",o.assignees),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",o.categoryList)}}function Oe(p,S){1&p&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275i18n(1,72),t.\u0275\u0275elementEnd())}function Re(p,S){1&p&&t.\u0275\u0275element(0,"mat-spinner",73)}function xe(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",57)(1,"span",58),t.\u0275\u0275i18n(2,59),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-select",60),t.\u0275\u0275listener("ngModelChange",function(r){t.\u0275\u0275restoreView(o);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.delayInterval=r)}),t.\u0275\u0275elementStart(4,"mat-option",61),t.\u0275\u0275i18n(5,62),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"mat-option",61),t.\u0275\u0275i18n(7,63),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"mat-option",61),t.\u0275\u0275i18n(9,64),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"mat-option",61),t.\u0275\u0275i18n(11,65),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",66)(13,"button",67),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.closeModal(r.activeCheckbox))}),t.\u0275\u0275i18n(14,68),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",69),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.setAfterDeathModalDelay(r.itemToSetDelayAfterDeath))}),t.\u0275\u0275template(16,Oe,2,0,"span",22),t.\u0275\u0275elementStart(17,"div",70),t.\u0275\u0275template(18,Re,1,0,"mat-spinner",71),t.\u0275\u0275elementEnd()()()}if(2&p){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled","ESSENTIAL"===o.userInfo.subscriptionPlan)("ngModel",o.delayInterval),t.\u0275\u0275advance(1),t.\u0275\u0275property("value",2),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",6),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",12),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",24),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",o.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.isLoading),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o.isLoading)}}function Ae(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"app-form",74),t.\u0275\u0275listener("savedResponse",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.getAllFormResponses())}),t.\u0275\u0275elementEnd()}if(2&p){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("ownerId",o.ownerId)("mainCategory",o.selectedMainCategory)("subCategory",o.selectedSubCategory)}}function Fe(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div",80)(1,"label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-form-field",81),t.\u0275\u0275element(4,"input",82),t.\u0275\u0275elementEnd()()),2&p){const o=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(o.fieldName),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",o.response)}}function Le(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div",79),t.\u0275\u0275template(1,Fe,5,2,"div",78),t.\u0275\u0275elementEnd()),2&p){const o=S.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.response)}}function Pe(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div",79)(1,"div",83),t.\u0275\u0275i18n(2,84),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-form-field",85),t.\u0275\u0275element(4,"textarea",86),t.\u0275\u0275elementEnd()()),2&p){const o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(4),t.\u0275\u0275property("value",o.selectedResponse.notes)}}function be(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",90),t.\u0275\u0275listener("click",function(){const c=t.\u0275\u0275restoreView(o).$implicit,d=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(d.downloadFiles([c._id]))}),t.\u0275\u0275elementStart(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275element(4,"img",91),t.\u0275\u0275elementEnd()()}if(2&p){const o=S.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2("",o.file.title,"",o.file.extension,"")}}function ye(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div",80)(1,"span",87),t.\u0275\u0275i18n(2,88),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,be,5,2,"div",89),t.\u0275\u0275elementEnd()),2&p){const o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",o.selectedResponse.files)}}function De(p,S){if(1&p&&(t.\u0275\u0275elementStart(0,"div",75),t.\u0275\u0275template(1,Le,2,1,"div",76),t.\u0275\u0275template(2,Pe,5,1,"div",77),t.\u0275\u0275template(3,ye,4,1,"div",78),t.\u0275\u0275elementEnd()),2&p){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o.selectedResponse.formResponses),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.selectedResponse.notes),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.selectedResponse.files.length)}}function $e(p,S){if(1&p){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",92)(1,"div",93)(2,"mat-icon",94),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.closeDeleteModal())}),t.\u0275\u0275text(3,"clear"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",95)(5,"div"),t.\u0275\u0275element(6,"img",96),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",97),t.\u0275\u0275i18n(8,98),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",99),t.\u0275\u0275i18n(10,100),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",101)(12,"button",102),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.closeDeleteModal())}),t.\u0275\u0275i18n(13,103),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"button",104),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const r=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(r.deleteResponse(r.deleteData))}),t.\u0275\u0275i18n(15,105),t.\u0275\u0275elementEnd()()()()}}let we=(()=>{class p{constructor(o,i,r,c,d,f,E){this._notificationService=o,this._formDataService=i,this._uploadService=r,this._errorService=c,this._dialogService=d,this._authService=f,this._formService=E,this.tabelTitle="My Legacy Assets Memories",this.delayOptionLabel1="Never",this.delayOptionLabel2="Now",this.delayOptionLabel3="After Death",this.ownerId="",this.assignees=[],this.tableType="buddy",this.isLoading=!1,this.categoryList=[],this.itemToSetDelayAfterDeath={},this.selectedMainCategory="",this.selectedSubCategory=""}ngOnInit(){this.categoryList.filter(o=>"UNASSIGNED"===o.category),this.userInfo=this._authService.getUser(),this.getAllFormResponses()}getAllFormResponses(){this.isLoading=!0,this._formService.getFormResponses(this.ownerId).then(o=>{this.formResponsesList=o,this.mapCategory(),this.selectedMainCategory&&this.selectedSubCategory&&this.categoryList.forEach(i=>{i.category===this.selectedMainCategory&&(i.expanded=!0,i.subcategories.forEach(r=>{r.value===this.selectedSubCategory&&(r.expanded=!0)}))})}).catch(o=>{this._errorService.handleCommonError(o)}).finally(()=>{this.isLoading=!1,this.selectedMainCategory="",this.selectedSubCategory=""})}setAfterDeathModalDelay(o){if(void 0!==this.delayInterval){switch(o.level){case 1:this.setAllSubcategories(o.item,o.assigneeId,this.convertHoursToMilli(this.delayInterval));break;case 2:this.setAllResponses(o.item,o.assigneeId,this.convertHoursToMilli(this.delayInterval));break;case 3:this.setResponse(o.item,o.assigneeId,this.convertHoursToMilli(this.delayInterval))}this._dialogService.closeAll()}}openDelayModal(o,i,r,c,d){this.activeCheckbox=d,this.checkExistFormResponse(o,i)&&(this.itemToSetDelayAfterDeath={level:o,item:i,assigneeId:r,parentItem:c},this.dialogRef=this._dialogService.open(e.a,{data:{title:"Set Document Delay",template:this.delayModal,showClose:!0},maxWidth:"90vw",height:"auto",width:"500px",autoFocus:!1}),this.dialogRef.backdropClick().subscribe(()=>{this.activeCheckbox.checked=!1}),this.dialogRef.componentInstance.closeDialog.subscribe(()=>{this.activeCheckbox.checked=!1}),this.dialogRef.afterClosed().subscribe(f=>{this.delayInterval=void 0,this.activeCheckbox=null,this.itemToSetDelayAfterDeath={}}))}closeModal(o){o.checked=!1,this._dialogService.closeAll()}convertHoursToMilli(o){return 36e5*o}mapCategory(){this.categoryList=M.uW.filter(i=>"UNASSIGNED"!==i.value).map(i=>({category:i.value,categoryName:i.title,subcategories:[],expanded:!1,completed:new Map})),this.categoryList.forEach(i=>{M.Cj[i.category].forEach(r=>{i.subcategories.push({value:r.value,name:r.title,formResponses:[],expanded:!1,completed:new Map})})});const o=new Map;this.categoryList.forEach(i=>{o.set(i.category,i)}),this.formResponsesList.forEach(i=>{const r=o.get(i.mainCategory);if(!r)return;const c=r.subcategories.find(d=>d.value===i.subCategory);c?c.formResponses.push(i):r.subcategories.push({value:i.subCategory,name:M.Cj[i.mainCategory].find(d=>d.value===i.subCategory).title,formResponses:[i],expanded:!1,completed:new Map}),i.completed=new Map,this.assignees.forEach(d=>{i.completed.set(d.assigneeInfo._id,-1),d.assignedDocuments.forEach(f=>{f.documentId===i.id&&i.completed.set(d.assigneeInfo._id,f.unlockingDelayMS)})})})}toggleExpanded(o){o.expanded=!o.expanded}someSubcategoriesComplete(o,i,r){if(!o.subcategories.length)return!1;const c=o.subcategories.flatMap(d=>d.formResponses.map(f=>f.completed));return 1==r?o.subcategories.some(d=>d.completed.get(i)>0)||c.some(d=>d.get(i)>0):o.subcategories.some(d=>d.completed.get(i)==r)||c.some(d=>d.get(i)==r)}someResponsesComplete(o,i,r){return!!o.formResponses.length&&o.formResponses.some(1==r?c=>c.completed.get(i)>0:c=>c.completed.get(i)==r)}allCompleteSubcategory(o,i,r){if(!o.subcategories.length)return!1;const c=o.subcategories.flatMap(d=>d.formResponses.map(f=>f.completed));return 0!==c.length&&(1==r?o.subcategories.every(d=>d.completed.get(i)>0)||c.every(d=>d.get(i)>0):o.subcategories.every(d=>d.completed.get(i)==r)||c.every(d=>d.get(i)==r))}allCompleteResponses(o,i,r){return!!o.formResponses.length&&o.formResponses.every(1==r?c=>c.completed.get(i)>0:c=>c.completed.get(i)==r)}setAllSubcategories(o,i,r){const c=o.subcategories.flatMap(f=>f.formResponses.filter(E=>0===E.accessLevel).map(E=>E.id));this.checkExistFormResponse(3,c)&&(this.assignDocuments(c,[i],r),o.subcategories.forEach(f=>{0!==f.formResponses.length&&f.formResponses.every(E=>0===E.accessLevel&&E.delay===r)&&f.completed.set(i,r),0!==f.formResponses.length&&f.formResponses.every(E=>0===E.accessLevel&&E.delay===r)&&f.completed.set(i,r),f.formResponses.forEach(E=>{0===E.accessLevel&&E.completed.set(i,r),0===E.accessLevel&&E.completed.set(i,r)})}),o.subcategories.every(f=>f.formResponses.every(E=>0===E.accessLevel&&E.delay===r)||0===f.formResponses.length)||(this.activeCheckbox.indeterminate=!0,o.completed.set(i,r)))}setAllResponses(o,i,r){const c=o.formResponses.filter(f=>0===f.accessLevel).map(f=>f.id);this.checkExistFormResponse(3,c)&&(this.assignDocuments(c,[i],r),o.formResponses.every(f=>0===f.accessLevel&&f.delay===r)&&o.completed.set(i,r),o.formResponses.forEach(f=>{0===f.accessLevel&&f.completed.set(i,r)}))}setResponse(o,i,r){this.assignDocuments([o.id],[i],r),o.completed.set(i,r)}assignDocuments(o,i,r){o.length&&i.length&&this._uploadService.assignDocuments(this.ownerId,o,i,+r).then(c=>{this._notificationService.sendNotification("success",c.message)}).catch(c=>{this._errorService.handleCommonError(c)})}showFormResponse(o,i){var r=this;return(0,h.Z)(function*(){if(!(i.accessLevel<0)){if(i.accessLevel>0)return void r.openViewOnlyResponseModal(r.viewResponseModal,i);yield r._formDataService.fetchData(`${i.mainCategory}_${i.subCategory}`),r._formDataService.editResponse(i),r.selectedMainCategory=i.mainCategory,r.selectedSubCategory=i.subCategory,r.dialogRef=r._dialogService.open(e.a,{data:{title:M.Cj[i.mainCategory].find(c=>c.value===i.subCategory).title,template:o,showClose:!0},maxWidth:"90vw",height:"auto",maxHeight:"80vh",width:"450px",autoFocus:!1}),r.dialogRef.afterClosed().subscribe(()=>{r.selectedMainCategory="",r.selectedSubCategory=""})}})()}openViewOnlyResponseModal(o,i){this.selectedResponse=i,i.form&&(this.selectedResponse.formResponses=[],i.form.fields.forEach(r=>{if(i&&void 0!==i){const c=i.responses.find(d=>d.fieldId===r._id);this.selectedResponse.formResponses.push({fieldName:r.label,...c})}})),this.dialogRef=this._dialogService.open(e.a,{data:{title:i.responseName,template:o,showClose:!0},maxWidth:"90vw",minHeight:"300px",height:"auto",width:"500px",autoFocus:!1}),this.dialogRef.afterClosed().subscribe(r=>{this.selectedResponse=null,Array.from(document.getElementsByTagName("button")).forEach(d=>{d.classList.remove("cdk-program-focused"),d.classList.remove("cdk-focused")})})}setActiveCheckbox(o){o.checked=!1,this.activeCheckbox=o}addResponse(o,i,r){var c=this;return(0,h.Z)(function*(){yield c._formDataService.fetchData(`${o}_${i}`),c.selectedMainCategory=o,c.selectedSubCategory=i,c.dialogRef=c._dialogService.open(e.a,{data:{title:M.Cj[o].find(d=>d.value===i).title,template:r,showClose:!0},maxWidth:"90vw",height:"auto",maxHeight:"80vh",width:"450px",autoFocus:!1})})()}deleteResponse(o){this._formService.deleteResponse(o).then(i=>{this.getAllFormResponses()}).catch(i=>{this._errorService.handleCommonError(i)}),this._dialogService.closeAll()}checkExistFormResponse(o,i){let r;return 1===o?r=i.subcategories.flatMap(c=>c.formResponses.filter(d=>0===d.accessLevel).map(d=>d.id)):2===o?r=i.formResponses.filter(c=>0===c.accessLevel).map(c=>c.id):3===o&&(r=i),0!==r.length||(this.activeCheckbox.checked=!1,this.activeCheckbox=null,this._notificationService.sendNotification("error","No documents to assign. Please upload documents first."),!1)}downloadFiles(o){o.length>0&&(this._authService.setDownloadingStatus(!0),this.callOnInterval(),this._uploadService.commonDownload(o).then(i=>{this._notificationService.showDownloadNotification(i.message)}).catch(i=>{this._errorService.handleCommonError(i)}))}callOnInterval(){this._authService.downloadInterval=(0,C.F)(12e4).pipe((0,_.V)(()=>this._authService.getInterval().then(o=>{}).catch(o=>{}))).subscribe()}openDeletePopup(o){this.deleteData=o,this.dialogRef=this._dialogService.open(this.deleteModal,{maxWidth:"90vw",height:"auto",width:"500px",autoFocus:!1}),this.dialogRef.afterClosed().subscribe(i=>{this.closeDeleteModal(),Array.from(document.getElementsByTagName("button")).forEach(c=>{c.classList.remove("cdk-program-focused"),c.classList.remove("cdk-focused")})})}closeDeleteModal(){this._dialogService.closeAll()}}return p.\u0275fac=function(o){return new(o||p)(t.\u0275\u0275directiveInject(ee.g),t.\u0275\u0275directiveInject(te.W),t.\u0275\u0275directiveInject(P.C),t.\u0275\u0275directiveInject(ne.T),t.\u0275\u0275directiveInject(oe.uw),t.\u0275\u0275directiveInject($.e),t.\u0275\u0275directiveInject(w.s))},p.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["app-assign-table"]],viewQuery:function(o,i){if(1&o&&(t.\u0275\u0275viewQuery(_e,5),t.\u0275\u0275viewQuery(ce,5),t.\u0275\u0275viewQuery(de,5)),2&o){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.delayModal=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.deleteModal=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.viewResponseModal=r.first)}},inputs:{tabelTitle:"tabelTitle",delayOptionLabel1:"delayOptionLabel1",delayOptionLabel2:"delayOptionLabel2",delayOptionLabel3:"delayOptionLabel3",ownerId:"ownerId",assignees:"assignees",tableType:"tableType"},decls:13,vars:3,consts:function(){let S,o,i,r,c,d,f,E,I,V,k,X,z,W,j,H,K,Y,Q,J,l,g,n,a;return S="Folder",o="" + "\ufffd0\ufffd" + "",i="" + "\ufffd0\ufffd" + "",r="" + "\ufffd0\ufffd" + "",c="" + "\ufffd0\ufffd" + "",d="" + "\ufffd0\ufffd" + "",f="" + "\ufffd0\ufffd" + "",E="" + "\ufffd0\ufffd" + "",I="" + "\ufffd0\ufffd" + "",V="" + "\ufffd0\ufffd" + "",k="Delay Interval",X="Please select delay",z=" 2 Hours ",W=" 6 Hours ",j=" 12 Hours ",H=" 24 Hours ",K=" Cancel ",Y="SAVE",Q="Notes",J="Files",l=" Are you sure you want to delete this document? ",g=" This form will be completely removed from your account and cannot be restored. ",n=" Cancel ",a=" Delete ",[[1,"color-header-dark","f-24","ml-20"],[1,"document--accordion-container"],["class","w-100 loader",4,"ngIf"],["class","w-100","style","padding: 15px",4,"ngIf"],["delayModal",""],["formModal",""],["viewResponseModal",""],["deleteModal",""],[1,"w-100","loader"],[1,"w-100",2,"padding","15px"],[1,"w-100","mb-30","color-header-dark"],[1,"d-flex","w-100","text-start","ml-10"],[1,"w-30"],S,["class","w-20",4,"ngFor","ngForOf"],[1,"horizontal-line"],[4,"ngFor","ngForOf"],[1,"w-20"],[1,"d-flex","w-100","bord-bottom","align-center"],["mat-icon-button","",3,"click"],[1,"color-primary"],["class","pd-5 f-12 w-20",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pd-5","f-12","w-20"],[1,"d-flex"],[1,"d-flex","f-col","mr-10","align-center"],o,[3,"checked","disabled","indeterminate","change"],["checkbox1",""],i,["checkbox2",""],r,["checkbox3",""],[1,"d-flex","w-100","bord-bottom","align-center","bg-subcategory"],[1,"w-30","pdl-30"],["class","pd-5 f-12 w-60",4,"ngFor","ngForOf"],["class","d-flex w-100 bord-bottom align-center bg-files pd-10",4,"ngIf"],[1,"pd-5","f-12","w-60"],c,[1,"d-flex","f-col","mr-10","align-center","cross"],d,f,["class","d-flex w-100 bord-bottom align-center bg-files",4,"ngIf"],[1,"d-flex","w-100","bord-bottom","align-center","bg-files"],[1,"w-30","pdl-30","d-flex","align-center"],[1,"d-flex","w-fit","f-14","bord-radius-10","pdl-20","pdr-20","pdt-10","pdb-10",3,"ngStyle","click"],["src","assets/images/form.svg",1,"file-type-logo",3,"ngStyle"],["class","delete-icon cursor-pointer","src","assets/images/delete-red.svg",3,"click",4,"ngIf"],["src","assets/images/delete-red.svg",1,"delete-icon","cursor-pointer",3,"click"],E,[3,"checked","disabled","change"],I,V,["checkbox",""],[1,"d-flex","w-100","bord-bottom","align-center","bg-files","pd-10"],["mat-raised-button","","color","primary",1,"ml-40","d-flex","align-center","just-center",3,"click"],[1,"icon-plus","d-flex","just-center","align-center","ml-5"],[1,"move-modal","m-auto","pdt-20"],[1,"color-light","f-14","font-400"],k,["placeholder",X,3,"disabled","ngModel","ngModelChange"],[3,"value"],z,W,j,H,[1,"d-flex","just-center","mt-40","mb-20"],["mat-raised-button","","color","accent",1,"bg-white",3,"click"],K,["mat-raised-button","","color","primary",1,"ml-20",3,"disabled","click"],[1,"d-flex","just-center","align-center","login__loader"],["diameter","14",4,"ngIf"],Y,["diameter","14"],[3,"ownerId","mainCategory","subCategory","savedResponse"],[1,"d-flex","f-col","w-100","align-center",2,"gap","5px"],["class","d-flex f-col w-100 align-center",4,"ngFor","ngForOf"],["class","d-flex f-col w-100 align-center",4,"ngIf"],["class","w-80",4,"ngIf"],[1,"d-flex","f-col","w-100","align-center"],[1,"w-80"],["appearance","outline","floatLabel","never",1,"d-flex","f-col","w-100"],["type","text","matInput","","disabled","",3,"value"],[1,"f-16","w-80"],Q,["appearance","outline","floatLabel","never",1,"d-flex","f-col","w-80"],["matInput","","rows","4","disabled","",3,"value"],[1,"f-20"],J,["class","file-name cursor-pointer d-flex just-space mb-10",3,"click",4,"ngFor","ngForOf"],[1,"file-name","cursor-pointer","d-flex","just-space","mb-10",3,"click"],["src","assets/images/download.svg"],[1,"h-100"],[1,"d-flex","just-end","w-100","pdt-10","pdr-20","cursor-pointer"],[1,"color-light",3,"click"],[1,"d-flex","align-center","just-center","w-100","f-col","pd-40"],["src","assets/images/delete-file.svg"],[1,"color-dark-green","font-400","mt-10","text-center"],l,[1,"f-14","text-center","font-400","mt-10"],g,[1,"mt-20","d-flex","align-center"],["mat-raised-button","","color","accent",3,"click"],n,["mat-raised-button","","color","primary",1,"ml-20",3,"click"],a]},template:function(o,i){1&o&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275template(3,pe,2,0,"div",2),t.\u0275\u0275template(4,Ne,8,2,"div",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,xe,19,9,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(7,Ae,1,3,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(9,De,4,3,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(11,$e,16,0,"ng-template",null,7,t.\u0275\u0275templateRefExtractor)),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(i.tabelTitle),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isLoading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.isLoading))},dependencies:[x.NgForOf,x.NgIf,x.NgStyle,B.KE,ie.Nt,re.Hw,ae.lW,le.gD,b.ey,y.Ou,se.oG,D.JJ,D.On,U.R,G.G],styles:["[_ngcontent-%COMP%]:root{--primary-color: #46907b;--pro-bg-primary: #4c5aa9;--disabled-primary: #71ac9b}.back__button[_ngcontent-%COMP%]{height:40px!important}.back__button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.back__button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#46907b;fill:var(--primary-color)}.horizontal-line[_ngcontent-%COMP%]{width:100%;border-color:#dbe4f1;margin:10px auto}.bg__green[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center;background-color:#46907b;background-color:var(--primary-color);border-radius:50%;color:#fff}.bg__white[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center;background-color:#fff;border:1px solid #46907b;border:1px solid var(--primary-color);border-radius:50%;color:#46907b;color:var(--primary-color)}.document--accordion-container[_ngcontent-%COMP%]{overflow-y:auto}.toggle-button[_ngcontent-%COMP%]{background-color:#46907b!important;background-color:var(--primary-color)!important;color:#fff!important}.doc__header[_ngcontent-%COMP%]{width:200px;color:#252f42;font-weight:500;font-size:18px}@media (max-width: 768px){.document-main[_ngcontent-%COMP%]{margin-top:0!important}}.common__tab[_ngcontent-%COMP%]{margin-bottom:30px}.text-start[_ngcontent-%COMP%]{text-align:left}.bord-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #e3f1ed}.bord-radius-10[_ngcontent-%COMP%]{border-radius:10%}.file-type-logo[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px}.bg-subcategory[_ngcontent-%COMP%]{background-color:#f4f3f980!important}.bg-files[_ngcontent-%COMP%]{background-color:#f9f3f488!important}.svg-icon[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(21%) sepia(81%) saturate(6249%) hue-rotate(179deg) brightness(93%) contrast(91%)}.delete-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-15px}"]}),p})()},1251:(Be,L,m)=>{m.d(L,{G:()=>J});var h=m(49671),e=m(82963),M=m(99509),C=m(24006),_=m(95577),t=m(17445),ee=m(51669),te=m(92340),P=m(65412),ne=m(71392),oe=m(14775),$=m(80197),w=m(3128),x=m(35462),B=m(72567),ie=m(16562),re=m(11481),ae=m(11253),le=m(60769),b=m(36895),y=m(59549),se=m(44144),D=m(97392),U=m(4859),G=m(84385),_e=m(3238),ce=m(51572),de=m(11800),pe=m(94700),O=m(11285),me=m(77579),fe=m(73162);function ge(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275listener("dragover",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.cancelDefaultEvent(s))})("dragenter",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.cancelDefaultEvent(s))})("drop",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.uploadByDrag(s))})("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275reference(5);return e.\u0275\u0275resetView(s.click())}),e.\u0275\u0275element(1,"img",9),e.\u0275\u0275elementStart(2,"div",10),e.\u0275\u0275i18n(3,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",12,13),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.loadFile(s))}),e.\u0275\u0275elementEnd()()}}function ue(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"mat-progress-bar",20),e.\u0275\u0275elementStart(2,"mat-icon",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.stopUpload())}),e.\u0275\u0275text(3,"highlight_off"),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("value",n.progressCount)}}function Ee(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275i18n(1,23),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(n.progressCount),e.\u0275\u0275i18nApply(1)}}function Se(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",15)(2,"span",16),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ue,4,1,"div",17),e.\u0275\u0275template(5,Ee,2,1,"div",18),e.\u0275\u0275elementEnd()()),2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.fileName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isUploadStart),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.progressCount>0)}}let ve=(()=>{class l{constructor(n,a,s,u,v){this._notificationService=n,this._dialogService=a,this._authService=s,this._uploadService=u,this._errorService=v,this.fileData=[],this.fileName=[],this.fileSize=[],this.progressCount=0,this.fileUploadDone=new e.EventEmitter,this.fileDataOutput=new e.EventEmitter,this.unsubscribe=new me.x}ngOnInit(){this.userDetail=this._authService.getUser(),"ESSENTIAL"===this.userDetail.subscriptionPlan?this.totalStorage="1":"PREMIUM"===this.userDetail.subscriptionPlan&&(this.totalStorage="5"),this.totalBytes="1"===this.totalStorage?1073741824:5368709120,this.freeSpace=this.totalBytes-parseInt(this._authService.getStorage()),this._uploadService.progress.subscribe(n=>{this.progressCount=n})}callOnInterval(){this.timeObservable=(0,t.F)(12e4).pipe((0,_.z)(()=>this._authService.getInterval().catch(n=>{}))).subscribe()}cancelUpdate(){this._uploadService.abortProgress(),this.timeObservable&&this.timeObservable.unsubscribe(),this._dialogService.openDialogs[1].close(),this._notificationService.sendNotification("error","Upload file has been canceled.")}cancelDefaultEvent(n){n.preventDefault()}uploadByDrag(n){n.preventDefault(),this.loadFile({target:{files:n.dataTransfer.files}})}loadFile(n){if(this.isUpload=!0,n.target.files&&n.target.files.length){for(let a=0;a<n.target.files.length;a++){if(this.validateFile(n.target.files[a]))return void(this.isUpload=!1);this.fileData.push({type:O.Xu.FILE,mainCategory:this.mainCategory,subCategory:this.subCategory,file:n.target.files[a]}),this.fileSize.push(n.target.files[a].size),this.fileName.push(n.target.files[a].name)}this.fileDataOutput.emit({fileData:this.fileData}),this._dialogService.openDialogs[1].close()}}validateFile(n){if(n)switch(this.mainCategory){case O.V0.MEMORY:if(this.subCategory===O.Ig.PICTURE){if("png"!==this.extractMimeType(n.name)&&"jpg"!==this.extractMimeType(n.name)&&"jpeg"!==this.extractMimeType(n.name))return this._notificationService.sendNotification("error","You can only upload images"),!0}else if(this.subCategory===O.Ig.LEAVEBEHIND){if("png"===this.extractMimeType(n.name)||"jpg"===this.extractMimeType(n.name)||"jpeg"===this.extractMimeType(n.name))return this._notificationService.sendNotification("error","Images cannot be uploaded. Please use videos or documents"),!0;if("xls"===this.extractMimeType(n.name)||"xlsx"===this.extractMimeType(n.name))return this._notificationService.sendNotification("error","Excel files cannot be uploaded. Please use videos or other documents"),!0;if("ppt"===this.extractMimeType(n.name)||"pptx"===this.extractMimeType(n.name))return this._notificationService.sendNotification("error","Powerpoint files cannot be uploaded. Please use videos or other documents"),!0;if("zip"===this.extractMimeType(n.name))return this._notificationService.sendNotification("error","Zip files cannot be uploaded. Please use videos or other documents"),!0}else if(this.subCategory===O.Ig.INDIVIDUAL&&"doc"!==this.extractMimeType(n.name)&&"docx"!==this.extractMimeType(n.name)&&"pdf"!==this.extractMimeType(n.name)&&"txt"!==this.extractMimeType(n.name)&&"rtf"!==this.extractMimeType(n.name))return this._notificationService.sendNotification("error","You can only upload documents or pdf files"),!0;break;case O.V0.LEGAL:if("png"!==this.extractMimeType(n.name)&&"jpg"!==this.extractMimeType(n.name)&&"jpeg"!==this.extractMimeType(n.name)&&"pdf"!==this.extractMimeType(n.name)&&"doc"!==this.extractMimeType(n.name)&&"docx"!==this.extractMimeType(n.name)&&"pdf"!==this.extractMimeType(n.name)&&"txt"!==this.extractMimeType(n.name)&&"rtf"!==this.extractMimeType(n.name))return this._notificationService.sendNotification("error","Only PDF, DOC and Image files are allowed here..."),!0;break;case O.V0.FUNERAL:if("zip"===this.extractMimeType(n.name))return this._notificationService.sendNotification("error","Zip files cannot be uploaded. Please use another file type"),!0}}extractMimeType(n){return/(?:\.([^.]+))?$/.exec(n)[1].toLowerCase()}stopUpload(){this._uploadService.abortProgress(),this.fileUploadDone.emit(),this._notificationService.sendNotification("error","Upload file has been canceled.")}interValCall(){this._authService.getInterval().then(n=>{}).catch(n=>{})}browseFile(n){n.stopPropagation(),document.getElementById("legal_file").click()}}return l.\u0275fac=function(n){return new(n||l)(e.\u0275\u0275directiveInject(w.g),e.\u0275\u0275directiveInject(P.uw),e.\u0275\u0275directiveInject(B.e),e.\u0275\u0275directiveInject($.C),e.\u0275\u0275directiveInject(x.T))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-upload-file-modal-form"]],inputs:{subCategory:"subCategory",mainCategory:"mainCategory"},outputs:{fileUploadDone:"fileUploadDone",fileDataOutput:"fileDataOutput"},decls:8,vars:2,consts:function(){let g,n,a,s;return g=" Cancel ",n=" Browse ",a=" Drag a file here or browse for a file to upload ",s=" " + "\ufffd0\ufffd" + "% Uploaded ",[[1,"d-flex","align-center","just-center","w-100","f-col","upload-outer-container"],["class","upload-container-dashed-line cursor-pointer w-100",3,"dragover","dragenter","drop","click",4,"ngIf"],["class","upload-container-dashed-line w-100",4,"ngIf"],[1,"d-flex","just-center","mt-40","mb-20","file-upload-buttons"],["mat-raised-button","","color","accent",3,"click"],g,["mat-raised-button","","color","accent",1,"ml-20",3,"click"],n,[1,"upload-container-dashed-line","cursor-pointer","w-100",3,"dragover","dragenter","drop","click"],["src","assets/images/upload.svg"],[1,"ml-20","f-14","color-dark-green"],a,["type","file","id","legal_file","multiple","",2,"display","none",3,"change"],["legal_file",""],[1,"upload-container-dashed-line","w-100"],[1,"upload-progress-container"],[1,"f-14"],["class","d-flex align-center mt-5 w-100",4,"ngIf"],["class","d-flex just-center color-light f-12 font-400",4,"ngIf"],[1,"d-flex","align-center","mt-5","w-100"],["mode","determinate",1,"",3,"value"],[1,"color-light","ml-5","cursor-pointer",3,"click"],[1,"d-flex","just-center","color-light","f-12","font-400"],s]},template:function(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,ge,6,0,"div",1),e.\u0275\u0275template(2,Se,6,3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"button",4),e.\u0275\u0275listener("click",function(){return a.cancelUpdate()}),e.\u0275\u0275i18n(5,5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275listener("click",function(u){return a.browseFile(u)}),e.\u0275\u0275i18n(7,7),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.isUpload),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isUpload))},dependencies:[b.NgIf,D.Hw,U.lW,fe.pW]}),l})();var Ce=m(85051);const Te=["recaptchaRef"];function he(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",24)(2,"span",25),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span")(5,"img",26),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(n).$implicit,v=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(v.deleteFile(u))}),e.\u0275\u0275elementEnd()()()()}if(2&l){const n=g.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.file.name)}}function Me(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",27)(2,"span",28),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(n).$implicit,v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.downloadFiles([u.id]))}),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span")(5,"img",26),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(n),u=s.$implicit,v=s.$implicit,N=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(N.deleteUploadedFile(u.id,v))}),e.\u0275\u0275elementEnd()()()()}if(2&l){const n=g.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.file.title)}}function Ie(l,g){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Me,6,1,"div",15),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.responseToEdit.files)}}function Ne(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",9)(2,"div",10)(3,"span",11),e.\u0275\u0275i18n(4,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-icon",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(),u=e.\u0275\u0275reference(15);return e.\u0275\u0275resetView(s.uploadFileDialog(u))}),e.\u0275\u0275text(6,"add"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",14),e.\u0275\u0275template(8,he,6,1,"div",15),e.\u0275\u0275template(9,Ie,2,1,"ng-container",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",16)(11,"div",17)(12,"div",18)(13,"label",19),e.\u0275\u0275i18n(14,20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"mat-form-field",21),e.\u0275\u0275element(16,"textarea",22),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",n.fileData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.responseToEdit)}}function Oe(l,g){1&l&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275i18n(1,36),e.\u0275\u0275elementEnd())}function Re(l,g){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",29)(2,"div",30)(3,"label",31),e.\u0275\u0275i18n(4,32),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"mat-form-field",21),e.\u0275\u0275element(6,"input",33),e.\u0275\u0275template(7,Oe,2,0,"mat-error",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",16)(9,"div",17)(10,"div",18)(11,"label",19),e.\u0275\u0275i18n(12,34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"mat-form-field",21),e.\u0275\u0275element(14,"textarea",35),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",n.defaultFormFields.controls.responseName.invalid)}}function xe(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-option",46)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&l){const n=g.$implicit;e.\u0275\u0275property("value",n.currency.symbol),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("",n.currency.symbol," - ",n.currency.name,"")}}function Ae(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-form-field",42)(1,"mat-select",43,44)(3,"mat-select-trigger"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,xe,3,3,"mat-option",45),e.\u0275\u0275elementEnd()()),2&l){const n=e.\u0275\u0275reference(2),a=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("formControlName","currency-",a.id,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.value," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",s.currencyList)}}function Fe(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",21)(1,"input",47),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext().$implicit,v=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(v.dynamicFormFields.controls[u.id].value=s)}),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName",n.id)("placeholder",a.dynamicFormFields.controls[n.id].value)("ngModel",a.dynamicFormFields.controls[n.id].value)}}function Le(l,g){if(1&l&&(e.\u0275\u0275element(0,"img",52),e.\u0275\u0275pipe(1,"toLowerCaseWithDashes"),e.\u0275\u0275pipe(2,"toLowerCaseWithDashes")),2&l){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(1);e.\u0275\u0275propertyInterpolate1("src","assets/images/logos/",e.\u0275\u0275pipeBind1(1,2,n.value),".svg",e.\u0275\u0275sanitizeUrl)("appImageFallback","assets/images/logos/",e.\u0275\u0275pipeBind1(2,4,n.value),".webp")}}function Pe(l,g){if(1&l&&(e.\u0275\u0275element(0,"img",52),e.\u0275\u0275pipe(1,"toLowerCaseWithDashes"),e.\u0275\u0275pipe(2,"toLowerCaseWithDashes")),2&l){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate1("src","assets/images/logos/",e.\u0275\u0275pipeBind1(1,2,n),".svg",e.\u0275\u0275sanitizeUrl)("appImageFallback","assets/images/logos/",e.\u0275\u0275pipeBind1(2,4,n),".webp")}}function be(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-option",46),e.\u0275\u0275template(1,Pe,3,6,"img",51),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&l){const n=g.$implicit,a=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.displayOptionLogo),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n)}}function ye(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-select",50,44)(2,"mat-select-trigger"),e.\u0275\u0275template(3,Le,3,6,"img",51),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,be,4,3,"mat-option",45),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275reference(1),a=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("formControlName",a.id)("placeholder",a.placeholder),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",a.displayOptionLogo),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.value," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.selectOptions)}}function De(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-icon",57),e.\u0275\u0275listener("mousedown",function(){e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext();const s=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(s.type="text")})("mouseup",function(){e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext();const s=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(s.type="password")}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&l){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(2);e.\u0275\u0275property("inline",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","password"==n.type?"visibility_off":"visibility"," ")}}function $e(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"div",53),e.\u0275\u0275element(1,"input",54,55),e.\u0275\u0275template(3,De,2,2,"mat-icon",56),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName",n.id)("type",n.type)("placeholder",n.placeholder),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","password"===n.type)}}function we(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275i18n(1,58),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(n.label),e.\u0275\u0275i18nApply(1)}}function p(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275i18n(1,59),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(n.label)(n.validations.length.min),e.\u0275\u0275i18nApply(1)}}function S(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275i18n(1,60),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(n.label)(n.validations.length.max),e.\u0275\u0275i18nApply(1)}}function o(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275i18n(1,61),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(n.label),e.\u0275\u0275i18nApply(1)}}function i(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-form-field",21),e.\u0275\u0275template(1,ye,6,5,"mat-select",48),e.\u0275\u0275template(2,$e,4,4,"div",49),e.\u0275\u0275template(3,we,2,1,"mat-error",2),e.\u0275\u0275template(4,p,2,2,"mat-error",2),e.\u0275\u0275template(5,S,2,2,"mat-error",2),e.\u0275\u0275template(6,o,2,1,"mat-error",2),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","select"===n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","select"!==n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a.dynamicFormFields.controls[n.id].errors?null:a.dynamicFormFields.controls[n.id].errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a.dynamicFormFields.controls[n.id].errors?null:a.dynamicFormFields.controls[n.id].errors.minlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a.dynamicFormFields.controls[n.id].errors?null:a.dynamicFormFields.controls[n.id].errors.maxlength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a.dynamicFormFields.controls[n.id].errors?null:a.dynamicFormFields.controls[n.id].errors.pattern)}}function r(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-icon",57),e.\u0275\u0275listener("mousedown",function(){e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext();const s=e.\u0275\u0275reference(6);return e.\u0275\u0275resetView(s.type="text")})("mouseup",function(){e.\u0275\u0275restoreView(n),e.\u0275\u0275nextContext();const s=e.\u0275\u0275reference(6);return e.\u0275\u0275resetView(s.type="password")}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&l){e.\u0275\u0275nextContext();const n=e.\u0275\u0275reference(6);e.\u0275\u0275property("inline",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ","password"==n.type?"visibility_off":"visibility"," ")}}function c(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275i18n(1,63),e.\u0275\u0275elementEnd()),2&l){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275i18nExp(n.label),e.\u0275\u0275i18nApply(1)}}function d(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",18)(2,"label",19),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"mat-form-field",21),e.\u0275\u0275element(5,"input",54,62),e.\u0275\u0275template(7,r,2,2,"mat-icon",56),e.\u0275\u0275template(8,c,2,1,"mat-error",2),e.\u0275\u0275elementEnd()()),2&l){const n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("Confirmation ",n.label," ",n.validations.isRequired||n.validations.confirmationField?" *":"",""),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("formControlName","confirmation-",n.id,""),e.\u0275\u0275property("type",n.type)("placeholder",n.placeholder),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","password"===n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a.dynamicFormFields.controls["confirmation-"+n.id].errors?null:a.dynamicFormFields.controls["confirmation-"+n.id].errors.notMatch)}}function f(l,g){if(1&l&&(e.\u0275\u0275elementStart(0,"div",38)(1,"div",17)(2,"div",18)(3,"label",19),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",18),e.\u0275\u0275template(6,Ae,6,3,"mat-form-field",39),e.\u0275\u0275template(7,Fe,2,3,"mat-form-field",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,i,7,6,"mat-form-field",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,d,9,7,"div",41),e.\u0275\u0275elementEnd()),2&l){const n=g.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",n.label,"",n.validations.isRequired||n.validations.confirmationField?" *":"",""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","amount"===n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","amount"===n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","amount"!==n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.validations.confirmationField)}}function E(l,g){if(1&l&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,f,10,6,"div",37),e.\u0275\u0275elementContainerEnd()),2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.formData.fields)}}function I(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",64)(1,"re-captcha",65,66),e.\u0275\u0275listener("resolved",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.setCaptchaResponse(s))}),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("siteKey",n.reCaptchaKey)}}function V(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",67),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.back())}),e.\u0275\u0275i18n(1,68),e.\u0275\u0275elementEnd()}}function k(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.closeModal())}),e.\u0275\u0275i18n(1,70),e.\u0275\u0275elementEnd()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.isUploadStart)}}function X(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",71),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.next())}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275i18n(2,72),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.dynamicFormFields.invalid)}}function z(l,g){1&l&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275i18n(1,75),e.\u0275\u0275elementEnd())}function W(l,g){1&l&&e.\u0275\u0275element(0,"mat-spinner",76)}function j(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",71),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.saveFiles())}),e.\u0275\u0275template(1,z,2,0,"span",2),e.\u0275\u0275elementStart(2,"div",73),e.\u0275\u0275template(3,W,1,0,"mat-spinner",74),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.dynamicFormFields.invalid||n.defaultFormFields.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isUploadStart),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isUploadStart)}}function H(l,g){1&l&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275i18n(1,77),e.\u0275\u0275elementEnd())}function K(l,g){1&l&&e.\u0275\u0275element(0,"mat-spinner",76)}function Y(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",71),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.updateResponse())}),e.\u0275\u0275template(1,H,2,0,"span",2),e.\u0275\u0275elementStart(2,"div",73),e.\u0275\u0275template(3,K,1,0,"mat-spinner",74),e.\u0275\u0275elementEnd()()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.dynamicFormFields.invalid||n.defaultFormFields.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isUploadStart),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isUploadStart)}}function Q(l,g){if(1&l){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-upload-file-modal-form",78),e.\u0275\u0275listener("fileDataOutput",function(s){e.\u0275\u0275restoreView(n);const u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.setFileData(s))}),e.\u0275\u0275elementEnd()}if(2&l){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("subCategory",n.subCategory)("mainCategory",n.mainCategory)}}let J=(()=>{class l{constructor(n,a,s,u,v,N,A,R,F,Z,q){this.dialogRef=n,this._formDataService=a,this._formsService=s,this._uploadService=u,this._notificationService=v,this._dialogService=N,this._errorService=A,this._authService=R,this._localeService=F,this._sanitizer=Z,this._currencies=q,this.isUploadStart=!1,this.isUpload=!1,this.page=1,this.tabName="",this.fileData=[],this.step=1,this.selectedLanguage="en",this.captchaResponse="",this.reCaptchaKey=te.N.reCaptchaSiteKey,this.isWhitelisted=!1,this.currencyList=[],this.showCaptcha=!1,this.ownerId=null,this.fileUploadDone=new e.EventEmitter,this.savedResponse=new e.EventEmitter}ngOnInit(){this.checkWhitelistIp(),this.selectedLanguage=this._localeService.getCurrentLocale(),this.userInfo=this._authService.getUser(),this._formDataService.data$.subscribe(n=>{this.formData=n,this.formData.fields.forEach(a=>{a.label=a.translations[this.selectedLanguage].label,a.placeholder=a.translations[this.selectedLanguage].placeholder})}),this._formDataService.responseToEdit$.subscribe(n=>{this.responseToEdit=n}),this.currencyList=this._currencies.getAllCurrencies(),this.defaultFormFields=new C.cw({notes:new C.NI(this.responseToEdit&&this.responseToEdit.notes),responseName:new C.NI(this.responseToEdit&&this.responseToEdit.responseName,C.kI.required),responseDescription:new C.NI(this.responseToEdit&&this.responseToEdit.responseDescription)}),this.dynamicFormFields=new C.nJ({}),this.formData&&this.formData.fields.forEach(n=>{if(this.addFormControl(n),this.responseToEdit&&void 0!==this.responseToEdit){const a=this.responseToEdit.responses.find(s=>s.fieldId===n.id);if(n.validations.confirmationField&&(this.dynamicFormFields.controls[`confirmation-${n.id}`].value=a.response),"amount"===n.type){const s=a.response.split("-");this.dynamicFormFields.controls[n.id].value=s[1],this.dynamicFormFields.controls[`currency-${n.id}`].value=s[0]}else this.dynamicFormFields.controls[n.id].value=a.response}})}checkWhitelistIp(){var n=this;return(0,h.Z)(function*(){n.isWhitelisted=!!(yield n._authService.checkWhitelistIp())})()}ngOnDestroy(){this._formDataService.clearResponseData()}next(){this.dynamicFormFields.valid&&(this.step=2)}back(){this.step=1}addFormControl(n){const a=[];"email"===n.type&&a.push(C.kI.email),n.validations.length.min&&a.push(C.kI.minLength(n.validations.length.min)),n.validations.length.max&&a.push(C.kI.maxLength(n.validations.length.max)),(n.validations.isRequired||n.validations.confirmationField)&&a.push(C.kI.required),n.validations.regexPattern&&a.push(C.kI.pattern(new RegExp(n.validations.regexPattern)));const s=new C.NI("",a);if(this.dynamicFormFields.addControl(n.id,s),n.validations.confirmationField){const u=[];u.push(ee.d.confirmFieldMatches(this.dynamicFormFields.controls[n.id])),u.push(C.kI.required);const v=new C.NI("",u);this.dynamicFormFields.addControl(`confirmation-${n.id}`,v)}"amount"===n.type&&this.dynamicFormFields.addControl(`currency-${n.id}`,new C.NI("",[]))}closeModal(){this._dialogService.closeAll()}setFileData(n){n.fileData.forEach(a=>{const u={...a,ownerId:this.ownerId};this.fileData.push(u)})}saveFiles(){var n=this;return(0,h.Z)(function*(){if(n.showCaptcha&&!n.isWhitelisted&&""===n.captchaResponse)return n._notificationService.sendNotification("error","Please complete the reCAPTCHA."),void(n.isUploadStart=!1);n.sanitizeFormResponse();const{dynamicFieldsResp:a,filesIDs:s}=yield n.processResponse();n._formsService.saveFormResponses(n.ownerId,n.formData.id,n.mainCategory,n.subCategory,a,n.defaultFormFields.controls.notes.value,n.defaultFormFields.controls.responseName.value,n.defaultFormFields.controls.responseDescription.value,s,n.captchaResponse).then(u=>{n.closeModal(),n.isUploadStart=!1,n.savedResponse.emit(u),n.updateProgress()}).catch(u=>{n.recaptchaRef&&n.recaptchaRef.reset(),"CAPTCHA_REQUIRED"===u[0].code?(n.showCaptcha=!0,n.isUploadStart=!1):(n._errorService.handleCommonError(u),n.closeModal())}),n.captchaResponse=""})()}updateResponse(){var n=this;return(0,h.Z)(function*(){if(n.showCaptcha&&!n.isWhitelisted&&""===n.captchaResponse)return n._notificationService.sendNotification("error","Please complete the reCAPTCHA."),void(n.isUploadStart=!1);n.sanitizeFormResponse();const{dynamicFieldsResp:a,filesIDs:s}=yield n.processResponse(),u=n.responseToEdit.files.flatMap(v=>v.id);s.push(...u),n._formsService.updateFormResponses(n.responseToEdit.id,n.mainCategory,n.subCategory,a,n.defaultFormFields.controls.notes.value,n.defaultFormFields.controls.responseName.value,n.defaultFormFields.controls.responseDescription.value,s,n.captchaResponse).then(v=>{n.closeModal(),n.isUploadStart=!1,n.savedResponse.emit(v)}).catch(v=>{n._errorService.handleCommonError(v),n._notificationService.sendNotification("error","Something went wrong! Please try again later."),n.closeModal()})})()}deleteFile(n){this.fileData.splice(n,1)}uploadFileDialog(n){this.isUploadStart=!1,this.dialogRef=this._dialogService.open(M.a,{data:{title:"Upload File",template:n,showClose:!0},maxWidth:"90vw",height:"auto",width:"500px",autoFocus:!1,id:"Upload"})}downloadFiles(n){let a=[];n.length>0&&n.forEach(s=>{a.push(s)}),a.length>0&&(this._authService.setDownloadingStatus(!0),this.callOnInterval(),this._uploadService.commonDownload(a).then(s=>{this._notificationService.showDownloadNotification(s.message)}).catch(s=>{this._errorService.handleCommonError(s)}))}callOnInterval(){this._authService.downloadInterval=(0,t.F)(12e4).pipe((0,_.z)(()=>this._authService.getInterval().catch(n=>{}))).subscribe()}deleteUploadedFile(n,a){n&&this._uploadService.deleteFiles(n).then(s=>{this._notificationService.sendNotification("success","Deleted successfully!"),this.responseToEdit.files.splice(a,1)}).catch(s=>{this._errorService.handleCommonError(s)})}updateProgress(){this.userInfo.discovery[this.mainCategory]&&!this.userInfo.discovery[this.mainCategory].includes(this.subCategory)&&this._uploadService.updateCompletedProgress(this.ownerId,this.mainCategory,this.subCategory).then(n=>{this._authService.updateUserDicovery(this.mainCategory,n[this.mainCategory])}).catch(n=>{this._errorService.handleCommonError(n)})}setCaptchaResponse(n){this.captchaResponse=n}sanitizeFormResponse(){["responseDescription","responseName","notes"].forEach(a=>{const s=this._sanitizer.sanitize(e.SecurityContext.HTML,this.defaultFormFields.controls[a].value);this.defaultFormFields.controls[a].setValue(s)});for(const[a,s]of Object.entries(this.dynamicFormFields.value))a.includes("confirmation-")||this.dynamicFormFields.controls[a].setValue(this._sanitizer.sanitize(e.SecurityContext.HTML,s))}processResponse(){var n=this;return(0,h.Z)(function*(){n.sanitizeFormResponse(),n.isUploadStart=!0;const a=[],s=[];for(const[u,v]of Object.entries(n.dynamicFormFields.value))if(u.includes("currency-")){const N=u.split("-")[1],R=`${v}-${n.dynamicFormFields.controls[N].value}`;n.dynamicFormFields.controls[N].value=R,a.find(F=>F.fieldId===N).response=R}else u.includes("confirmation-")||a.push({fieldId:u,response:v});if(n.fileData.length>0)for(let u of n.fileData){const v=yield n._uploadService.uploadFile(u);v.errors&&(n._errorService.handleCommonError(v.errors[0]),n._notificationService.sendNotification("error",v.errors[0]),n.closeModal()),s.push(v.single._id)}return{dynamicFieldsResp:a,filesIDs:s}})()}}return l.\u0275fac=function(n){return new(n||l)(e.\u0275\u0275directiveInject(P.so),e.\u0275\u0275directiveInject(ne.W),e.\u0275\u0275directiveInject(oe.s),e.\u0275\u0275directiveInject($.C),e.\u0275\u0275directiveInject(w.g),e.\u0275\u0275directiveInject(P.uw),e.\u0275\u0275directiveInject(x.T),e.\u0275\u0275directiveInject(B.e),e.\u0275\u0275directiveInject(ie.O),e.\u0275\u0275directiveInject(re.H7),e.\u0275\u0275directiveInject(ae.K))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-form"]],viewQuery:function(n,a){if(1&n&&e.\u0275\u0275viewQuery(Te,5),2&n){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(a.recaptchaRef=s.first)}},inputs:{mainCategory:"mainCategory",subCategory:"subCategory",ownerId:"ownerId"},outputs:{fileUploadDone:"fileUploadDone",savedResponse:"savedResponse"},decls:16,vars:11,consts:function(){let g,n,a,s,u,v,N,A,R,F,Z,q,Ue,Ge,Ve,ke,Xe,ze,We;return g=" Files ",n=" Notes ",a="Notes",s="write your notes here...",u="Give this document a name! *",v="write your response here...",N="Give a short description",A="write your description here...",R="This field is required ",F="" + "\ufffd0\ufffd" + " is required. ",Z="" + "\ufffd0\ufffd" + " must have at least " + "\ufffd1\ufffd" + " characters. ",q="" + "\ufffd0\ufffd" + " must have maximum " + "\ufffd1\ufffd" + " characters. ",Ue=" Please enter a valid " + "\ufffd0\ufffd" + ". ",Ge="The confirmation for " + "\ufffd0\ufffd" + " does not match. ",Ve=" Back ",ke=" Cancel ",Xe="Next",ze="Save",We="Update",[[1,"mb-10"],[1,"d-flex","f-col","align-center","w-100","mt-10","just-center",3,"formGroup"],[4,"ngIf"],["class","d-flex just-center",4,"ngIf"],[1,"d-flex","just-center","mt-20"],["color","accent","class","bg-white","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","class","bg-white",3,"disabled","click",4,"ngIf"],["class","ml-20","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["uploadFileTemplate",""],[1,"d-flex","f-col","w-100","align-start"],[1,"d-flex","w-80","align-center","m-10-cent"],[1,"input-label","pdr-10"],g,[1,"icon-plus",3,"click"],[1,"d-flex","f-col","just-start","w-100","mt-10","m-10-cent"],["class","d-flex f-col w-80 align-center",4,"ngFor","ngForOf"],[1,"d-flex","w-100","just-center"],[1,"d-flex","f-col","w-100","align-center"],[1,"d-flex","w-80"],[1,"input-label"],n,["appearance","outline","floatLabel","never",1,"d-flex","f-col","w-80"],["matInput","","formControlName","notes","name",a,"id","notes","rows","7","placeholder",s],[1,"d-flex","f-col","w-80","align-center"],[1,"d-flex","just-space","align-center","w-100","mb-10"],[1,"file-name"],["src","assets/images/delete-red.svg",1,"ml-5","delete","cursor-pointer",3,"click"],[1,"d-flex","w-100","just-space","align-center","mb-10","cursor-pointer"],[1,"file-name",3,"click"],[1,"d-flex","f-col","w-100","just-center","align-center"],[1,"d-flex","w-80","mt-10"],[1,"mb-10","input-label"],u,["matInput","","formControlName","responseName","type","text","placeholder",v],N,["matInput","","formControlName","responseDescription","name","description","id","description","rows","7","placeholder",A],R,["class","d-flex w-100 just-center f-col",4,"ngFor","ngForOf"],[1,"d-flex","w-100","just-center","f-col"],["appearance","outline","floatLabel","never","class","d-flex f-col w-20 mr-10",4,"ngIf"],["appearance","outline","floatLabel","never","class","d-flex f-col w-80",4,"ngIf"],["class","d-flex f-col w-100 align-center",4,"ngIf"],["appearance","outline","floatLabel","never",1,"d-flex","f-col","w-20","mr-10"],["placeholder","\u20ac",3,"formControlName"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["currencyMask","","matInput","",3,"formControlName","placeholder","ngModel","ngModelChange"],[3,"formControlName","placeholder",4,"ngIf"],["class","d-flex",4,"ngIf"],[3,"formControlName","placeholder"],["class","option-logo",3,"src","appImageFallback",4,"ngIf"],[1,"option-logo",3,"src","appImageFallback"],[1,"d-flex"],["matInput","",3,"formControlName","type","placeholder"],["fieldInput",""],["style","cursor: pointer","matSuffix","",3,"inline","mousedown","mouseup",4,"ngIf"],["matSuffix","",2,"cursor","pointer",3,"inline","mousedown","mouseup"],F,Z,q,Ue,["confirmationFieldInput",""],Ge,[1,"d-flex","just-center"],[3,"siteKey","resolved"],["recaptchaRef","reCaptcha"],["color","accent","mat-raised-button","",1,"bg-white",3,"click"],Ve,["mat-raised-button","","color","accent",1,"bg-white",3,"disabled","click"],ke,["mat-raised-button","","color","primary",1,"ml-20",3,"disabled","click"],Xe,[1,"d-flex","just-center","align-center","login__loader"],["diameter","14",4,"ngIf"],ze,["diameter","14"],We,[3,"subCategory","mainCategory","fileDataOutput"]]},template:function(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"form",1),e.\u0275\u0275template(2,Ne,17,2,"ng-container",2),e.\u0275\u0275template(3,Re,15,1,"ng-container",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"form",1),e.\u0275\u0275template(5,E,2,1,"ng-container",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,I,3,1,"div",3),e.\u0275\u0275elementContainerStart(7),e.\u0275\u0275elementStart(8,"div",4),e.\u0275\u0275template(9,V,2,0,"button",5),e.\u0275\u0275template(10,k,2,1,"button",6),e.\u0275\u0275template(11,X,3,1,"button",7),e.\u0275\u0275template(12,j,4,3,"button",7),e.\u0275\u0275template(13,Y,4,3,"button",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,Q,1,2,"ng-template",null,8,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.defaultFormFields),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1===a.step),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",2===a.step),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.dynamicFormFields),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1===a.step&&a.formData&&a.formData.fields),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",2===a.step&&!a.isWhitelisted&&a.showCaptcha),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",2===a.step),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1===a.step),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1===a.step),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",2===a.step&&!a.responseToEdit),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",2===a.step&&a.responseToEdit))},dependencies:[le.g1,b.NgForOf,b.NgIf,y.TO,y.KE,y.R9,se.Nt,D.Hw,U.lW,G.gD,G.$L,_e.ey,ce.Ou,C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,de.H,pe.wT,ve,Ce.E],styles:["[_ngcontent-%COMP%]:root{--primary-color: #46907b;--pro-bg-primary: #4c5aa9;--disabled-primary: #71ac9b}.dialog_content[_ngcontent-%COMP%]{padding:20px;height:calc(100% - 60px);overflow-y:auto}.dialog_header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#fff;height:60px;border-bottom:2px solid #e2e7f0;padding:0 30px}.dialog_title[_ngcontent-%COMP%]{color:#2a5760;font-size:16px;font-weight:500;white-space:pre;text-overflow:ellipsis;overflow-x:hidden}.ic_close[_ngcontent-%COMP%]{color:#97b0bd;font-size:20px;cursor:pointer}.input[_ngcontent-%COMP%]{height:50px;padding:15px;border:1px solid #e9eaf7;border:1px solid var(--pro-text-secondary, #e9eaf7);background:#fff;background:var(--pro-bg-white, #fff);font-family:Poppins}.textarea[_ngcontent-%COMP%]{height:189px;padding:15px;border:1px solid #e9eaf7;border:1px solid var(--pro-text-secondary, #e9eaf7);background:#fff;background:var(--pro-bg-white, #fff);font-family:Poppins}.input-label[_ngcontent-%COMP%]{color:#434451;color:var(--pro-text-primary, #434451);font-family:Poppins;font-size:20px;font-style:normal;font-weight:400;line-height:normal;align-self:flex-start}.icon-plus[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background-color:#4c5aa9;background-color:var(--pro-bg-primary);cursor:pointer;color:#fff}.file-name[_ngcontent-%COMP%]{color:#4c5aa9;color:var(--pro-bg-primary);font-family:Poppins;font-size:12px;font-style:normal;font-weight:400;line-height:normal}.button-action[_ngcontent-%COMP%]{border:1px solid #4c5aa9;border:1px solid var(--pro-bg-primary)}.delete[_ngcontent-%COMP%]{color:#ff7e63}.container-wrapper[_ngcontent-%COMP%]{max-height:80vh!important;margin:1rem 0;padding-bottom:1rem}.m-10-cent[_ngcontent-%COMP%]{margin-left:10%}.option-logo[_ngcontent-%COMP%]{margin-bottom:-5px;margin-right:5px;max-width:25px;max-height:25px}.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#46907b;background-color:var(--primary-color)}.mat-raised-button.mat-primary[disabled][_ngcontent-%COMP%]{background-color:#71ac9b!important;background-color:var(--disabled-primary)!important;color:#fff!important}"]}),l})()},11285:(Be,L,m)=>{m.d(L,{Ig:()=>M,V0:()=>e,Xu:()=>h});var h=(()=>{return(_=h||(h={})).CREDENTIAL="CREDENTIAL",_.FILE="FILE",_.NOTE="NOTE",h;var _})(),e=(()=>{return(_=e||(e={})).IDENTIFICATION="IDENTIFICATION",_.CONTACTS="CONTACTS",_.LEGAL="LEGAL",_.TRUSTS="TRUSTS",_.TAX="TAX",_.HOME="HOME",_.INSURANCE="INSURANCE",_.BANK="BANK",_.INVESTMENTS="INVESTMENTS",_.VALUABLE="VALUABLE",_.SOCIAL="SOCIAL",_.FUNERAL="FUNERAL",_.MEMORY="MEMORY",_.ENTREPRENEUR="ENTREPRENEUR",_.DEVICES="DEVICES",_.CHARITY="CHARITY",_.UNASSIGNED="UNASSIGNED",e;var _})(),M=(()=>{return(_=M||(M={})).PASSPORT="PASSPORT",_.DRIVER="DRIVER",_.BIRTH="BIRTH",_.MARRIAGE="MARRIAGE",_.DIVORCE="DIVORCE",_.MEDICAL="MEDICAL",_.PARTNER="PARTNER",_.FRIENDS="FRIENDS",_.LAWYER="LAWYER",_.ACCOUNTANT="ACCOUNTANT",_.IFA="IFA",_.DOCTOR="DOCTOR",_.CLUBS="CLUBS",_.WILL="WILL",_.ATTORNEY="ATTORNEY",_.EXECUTOR="EXECUTOR",_.EMPLOYMENT="EMPLOYMENT",_.PROBATE="PROBATE",_.ASSETS="ASSETS",_.TRUSTEE="TRUSTEE",_.WISHES="WISHES",_.PERSONAL="PERSONAL",_.TRUST="TRUST",_.BUSINESS="BUSINESS",_.TAX_NUMBER="TAX_NUMBER",_.OWNERSHIP="OWNERSHIP",_.RENTAL="RENTAL",_.MORTGAGE="MORTGAGE",_.UTILITY="UTILITY",_.LIFE="LIFE",_.INCOME="INCOME",_.HEALTH="HEALTH",_.HOME="HOME",_.VEHICLE="VEHICLE",_.FUNERAL="FUNERAL",_.SAVINGS="SAVINGS",_.ONLINE="ONLINE",_.DIGITAL="DIGITAL",_.PENSION="PENSION",_.STOCKS="STOCKS",_.PROPERTY="PROPERTY",_.ALTERNATIVES="ALTERNATIVES",_.SAFE="SAFE",_.CAR="CAR",_.JEWELLERY="JEWELLERY",_.COLLECTION="COLLECTION",_.SOCIAL="SOCIAL",_.EMAIL="EMAIL",_.NONDIGITAL="NONDIGITAL",_.ACCOUNTS="ACCOUNTS",_.CHOICE="CHOICE",_.WAKE="WAKE",_.INVITE="INVITE",_.INDIVIDUAL="INDIVIDUAL",_.LEAVEBEHIND="LEAVEBEHIND",_.MUSIC="MUSIC",_.PICTURE="PICTURE",_.INVOLVEMENT="INVOLVEMENT",_.SUBSCRIPTIONS="SUBSCRIPTIONS",_.PREMISES="PREMISES",_.KEYS="KEYS",_.ACCESS="ACCESS",_.HR="HR",_.SMARTPHONE="SMARTPHONE",_.COMPUTER="COMPUTER",_.TABLET="TABLET",_.BELGIUM="BELGIUM",_.NEDERLAND="NEDERLAND",_.UNITED_KINGDOM="UNITED_KINGDOM",_.UNITED_STATES="UNITED_STATES",_.OTHER="OTHER",M;var _})()}}]);